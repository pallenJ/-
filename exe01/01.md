# 1 


## 목적 

  1. 간단한 게시판 구현 및 Spring Security로 로그인 구현 
  1. 달력 화면 작성후 앞에서 만든 게시판을 바탕으로 다이어리 구현
  1. 게시판과 동일한 구조의 table을 3개 만든 뒤 각각 랜덤으로 10만, 50만, 100만개의 데이터를 넣어보고 통계화면 

## 환경

- jdk 1.8, sts, lombok, mysql 5.7, maven,톰캣 사용
- sts는 최신버전, 톰캣은 7.0
- 이클립스 플러그인으로는 tern eclipse, mybatis xml 사용 및 웹 브라우저는 크롬

## 기본 설정
1. sts에 lombok 적용후 시작
1. SpringMVC 프로젝트 생성. 프로젝트 이름은 ex01, 패키지는 org.zerock.controller로 생성. 
1. 톰캣서버 역시 추가후 tomcar7.0에서 잘 돌아가는지 확인후  build path를 /로 바꿈.
1. pom.xml 설정 
  + properties
  ``` xml
    <properties>
		<java-version>1.8</java-version>
		<org.springframework-version>5.0.7.RELEASE</org.springframework-version>
		<org.aspectj-version>1.6.10</org.aspectj-version>
		<org.slf4j-version>1.6.6</org.slf4j-version>
	</properties>
  ```
  + dependency(추가/수정된 부분)
  ```xml
  <dependency>
		    <groupId>org.springframework</groupId>
		    <artifactId>spring-test</artifactId>
		    <version>${org.springframework-version}</version>
		    <scope>test</scope>
	</dependency>
			<dependency>
		    <groupId>org.springframework</groupId>
		    <artifactId>spring-jdbc</artifactId>
		    <version>${org.springframework-version}</version>
		</dependency>
		<dependency>
			<groupId>org.slf4j</groupId>
			<artifactId>slf4j-log4j12</artifactId>
			<version>${org.slf4j-version}</version>
			<scope>runtime</scope>
		</dependency>
		<dependency>
			<groupId>log4j</groupId>
			<artifactId>log4j</artifactId>
			<version>1.2.17</version>
		</dependency>
			<dependency>
    	<groupId>org.apache.logging.log4j</groupId>
    	<artifactId>log4j-api</artifactId>
    	<version>2.0.1</version>
		</dependency>
		
		<dependency>
    	<groupId>org.apache.logging.log4j</groupId>
    	<artifactId>log4j-core</artifactId>
    	<version>2.0.1</version>
		</dependency>
		
		<dependency>
        <groupId>org.bgee.log4jdbc-log4j2</groupId>
        <artifactId>log4jdbc-log4j2-jdbc4</artifactId>
        <version>1.16</version>
     </dependency>
			<!-- Lombok -->
		<dependency>
		    <groupId>org.projectlombok</groupId>
		    <artifactId>lombok</artifactId>
		    <version>1.18.8</version>
		    <scope>provided</scope>
		</dependency>
		
		<!-- Log4j2 -->
		<dependency>
		    <groupId>org.bgee.log4jdbc-log4j2</groupId>
		    <artifactId>log4jdbc-log4j2-jdbc4.1</artifactId>
		    <version>1.16</version>
		</dependency>
		
		<!-- Test -->
		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
			<version>4.12</version>
			<scope>test</scope>
		</dependency>     
		
       <!-- MySQL Connector -->
		<dependency>
		    <groupId>mysql</groupId>
		    <artifactId>mysql-connector-java</artifactId>
		    <version>5.1.46</version>
		</dependency>
     <!-- Mybatis-Spring -->
		<dependency>
		    <groupId>org.mybatis</groupId>
		    <artifactId>mybatis-spring</artifactId>
		    <version>1.3.2</version>
		</dependency>
		   
		<!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core -->
		<dependency>
    		<groupId>com.fasterxml.jackson.core</groupId>
    		<artifactId>jackson-core</artifactId>
   			<version>2.9.6</version>
		</dependency>
		
		<!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-xml -->
		<dependency>
    		<groupId>com.fasterxml.jackson.dataformat</groupId>
    		<artifactId>jackson-dataformat-xml</artifactId>
    		<version>2.9.6</version>
		</dependency>
		   
		<!-- https://mvnrepository.com/artifact/com.google.code.gson/gson -->
		<dependency>
    		<groupId>com.google.code.gson</groupId>
    		<artifactId>gson</artifactId>
    		<version>2.8.2</version>
		</dependency>
		
		      

  ```
    작성 완료후 Maven Update 및 .setting/org.eclipse.wst.common.project.facet.core.xml에서 jst.web에서 jst.web버전 2.5로 변경
    (미변경시 tomcat 7.0에서 구동불가)
  
  1. root-context를 다음과 같이 작성(중괄호는 사용할 DB나 사용자에 따라 달라지는 부분)
  
  ```xml
    <?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:mybatis-spring="http://mybatis.org/schema/mybatis-spring"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:jdbc="http://www.springframework.org/schema/jdbc"
	xsi:schemaLocation="http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-3.1.xsd
		http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd
		http://mybatis.org/schema/mybatis-spring http://mybatis.org/schema/mybatis-spring-1.2.xsd
		http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd">
	
	<!-- Root Context: defines shared resources visible to all other web components -->
	
	<!-- MySQL datasource -->
	<bean id = "dataSource"
	class="org.springframework.jdbc.datasource.DriverManagerDataSource">
	
		<property name="driverClassName" value="com.mysql.jdbc.Driver"></property>
		<property name="url" value="jdbc:mysql://127.0.0.1:3306/{dbname}?useSSL=false&amp;serverTimezone=UTC&amp;autoReconnect=true&amp;useSSL=false&amp;useUnicode=true&amp;characterEncoding=UTF-8">
		</property>
		<property name="username" value = "{user}"></property>
		<property name="password" value = "{password}"></property>
	
	</bean>	

	<bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean">
		<property name="dataSource" ref="dataSource"></property>
	</bean>
	
	
	
	<context:component-scan base-package="org.zerock.controller" />
	<context:component-scan base-package="org.zerock.sample" />
	<mybatis-spring:scan base-package="org.zerock.mapper" />
	<context:component-scan base-package="org.zerock.service" />
	
	
</beans>

  ```
  >모두 작성후 controller, sample, service 패키지 추가 및 domain패키지도 추가
